
<div class="animated-background"></div>
<div class="container mt-5">
  <h1 class="mb-4 text-center">Business Card Submission</h1>

  <div class="row">
    <div class="col-md-4">
      <form [formGroup]="cardForm" (ngSubmit)="submit()" class="border p-4 rounded shadow">
        <div class="form-group">
          <label for="name">Name:</label>
          <input type="text" id="name" formControlName="name" class="form-control" required />
        </div>

        <div class="form-group">
          <label for="gender">Gender:</label>
          <select id="gender" formControlName="gender" class="form-control">
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </div>

        <div class="form-group">
          <label for="dateOfBirth">Date of Birth:</label>
          <input type="date" id="dateOfBirth" formControlName="dateOfBirth" class="form-control" required />
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" formControlName="email" class="form-control" required />
        </div>

        <div class="form-group">
          <label for="phone">Phone:</label>
          <input type="text" id="phone" formControlName="phone" class="form-control" required />
        </div>

        <div class="form-group">
          <label for="address">Address:</label>
          <input type="text" id="address" formControlName="address" class="form-control" />
        </div>

        <div class="form-group">
          <label for="photo">Photo:</label>
          <input type="file" (change)="onFileChange($event, 'photoBase64')" accept="image/*" class="form-control-file" />
        </div>

        <div class="form-group">
          <label for="file">Upload CSV/XML File:</label>
          <input type="file" (change)="onFileChange($event, 'file')" accept=".csv, .xml" class="form-control-file" />
        </div>

        <button type="submit" class="btn btn-success btn-block">Submit</button>
        <button type="button" class="btn btn-secondary btn-block" (click)="clearData()">Clear</button>
      </form>
    </div>

    <div class="col-md-8">
      <h2 class="mt-4">Preview:</h2>
      <div class="preview border p-3 rounded mt-3">
        <p><strong>Name:</strong> {{ previewData.name }}</p>
        <p><strong>Gender:</strong> {{ previewData.gender }}</p>
        <p><strong>Date of Birth:</strong> {{ previewData.dateOfBirth | date:'MM/dd/yyyy' }}</p>
        <p><strong>Email:</strong> {{ previewData.email }}</p>
        <p><strong>Phone:</strong> {{ previewData.phone }}</p>
        <p><strong>Address:</strong> {{ previewData.address }}</p>
        
        <div *ngIf="previewData.photoBase64">
          <strong>Photo:</strong>
          <img [src]="previewData.photoBase64" alt="Photo Preview" class="photo-preview img-fluid mt-2" />
        </div>
      </div>
    </div>
  </div>
</div>
